package com.example.config;import com.example.entity.ProfileEntity;import com.example.exception.ItemNotFoundException;import com.example.repository.ProfileRepository;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.context.annotation.Configuration;import org.springframework.security.core.userdetails.UserDetails;import org.springframework.security.core.userdetails.UserDetailsService;import org.springframework.security.core.userdetails.UsernameNotFoundException;import java.util.Optional;@Configurationpublic class CustomUserDetailsService implements UserDetailsService {    @Autowired    private ProfileRepository profileRepository;    @Override    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {        Optional<ProfileEntity> byPhone = profileRepository.findByPhone(username);        ProfileEntity profileEntity = byPhone.orElseThrow(() -> new ItemNotFoundException("user not exist!")) ;        return new CustomUserDetails(profileEntity);    }}