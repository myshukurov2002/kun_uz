package com.example.controller;import com.example.dto.EmailHistoryDTO;import com.example.dto.JwtDTO;import com.example.entity.ProfileEntity;import com.example.service.EmailHistoryService;import com.example.util.SecurityUtil;import jakarta.servlet.http.HttpServletRequest;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.http.ResponseEntity;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.PathVariable;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import java.time.LocalDate;import java.util.List;@RestController@RequestMapping("api/v1/email-history")public class EmailHistoryController {    @Autowired    private EmailHistoryService emailHistoryService;    @GetMapping("/amdin/get/by-email/{email}")    public ResponseEntity<?> getByEmail(@PathVariable String email,                                        HttpServletRequest request) {        JwtDTO jwtDTO = SecurityUtil.hasRole(request, ProfileEntity.Role.ADMIN);        List<EmailHistoryDTO> emailHistoryDTOList = emailHistoryService.getByEmail(email);        return ResponseEntity.ok(emailHistoryDTOList);    }    @GetMapping("/amdin/get/by-id/{id}")    public ResponseEntity<?> getById(@PathVariable String id,                                     HttpServletRequest request) {        JwtDTO jwtDTO = SecurityUtil.hasRole(request, ProfileEntity.Role.ADMIN);        EmailHistoryDTO byId = emailHistoryService.getById(id);        return ResponseEntity.ok(byId);    }    @GetMapping("/amdin/get/by-message/{message}")    public ResponseEntity<?> getByMessage(@PathVariable String message,                                          HttpServletRequest request) {        JwtDTO jwtDTO = SecurityUtil.hasRole(request, ProfileEntity.Role.ADMIN);        List<EmailHistoryDTO> emailHistoryDTOList = emailHistoryService                .getByMessage(message);        return ResponseEntity.ok(emailHistoryDTOList);    }    @GetMapping("/amdin/get/by-date/{date}")    public ResponseEntity<?> getByDate(@PathVariable LocalDate date,                                       HttpServletRequest request) {        JwtDTO jwtDTO = SecurityUtil.hasRole(request, ProfileEntity.Role.ADMIN);        List<EmailHistoryDTO> emailHistoryDTOList = emailHistoryService.getByDate(date);        return ResponseEntity.ok(emailHistoryDTOList);    }    @GetMapping("/amdin/get/by-given-date/{from}-{to}")    public ResponseEntity<?> getByGivenDate(@PathVariable LocalDate from,                                            @PathVariable LocalDate to,                                            HttpServletRequest request) {        JwtDTO jwtDTO = SecurityUtil.hasRole(request, ProfileEntity.Role.ADMIN);        List<EmailHistoryDTO> emailHistoryDTOList = emailHistoryService.getByGivenDate(from, to);        return ResponseEntity.ok(emailHistoryDTOList);    }}